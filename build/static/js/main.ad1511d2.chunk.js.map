{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","CheckoutProduct.js","reducer.js","Subtotal.js","Checkout.js","axios.js","Payment.js","Login.js","Order.js","Orders.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","alt","item","Home","CheckoutProduct","hideButton","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","useState","succeeded","setSucceeded","processing","setProcessing","error","setError","disabled","setDisabled","clienSecreat","SetClienSecreat","useEffect","a","method","URL","response","data","getClientSecret","handleSubmit","event","preventDefault","confirmCardPayment","payment_method","card","getElement","CardElement","then","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","onChange","empty","message","Login","setEmail","password","setPassword","target","signInWithEmailAndPassword","catch","alert","messasge","createUserWithEmailAndPassword","Order","order","moment","unix","format","thousanSeparator","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","log","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad1511d2.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\n//here we are preparing data layer\r\nexport const StateContext = createContext();\r\n\r\n//wraping our app and provide the data layer\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n// pull information about the data layer\r\n\r\nexport const useStateValue = () => useContext(StateContext);\r\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nimport firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBTQqST51xFJ0xp-jBQGKFbsevLsa9b_oA\",\r\n  authDomain: \"challenge-7a56c.firebaseapp.com\",\r\n  projectId: \"challenge-7a56c\",\r\n  storageBucket: \"challenge-7a56c.appspot.com\",\r\n  messagingSenderId: \"118336993141\",\r\n  appId: \"1:118336993141:web:2b31dbaa1a3cbd2697853c\",\r\n  measurementId: \"G-S7E5SHE2RR\",\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, auth };\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Header() {\r\n\tconst [{ basket, user }, dispatch] = useStateValue();\r\n\tconst handleAuthentication = () => {\r\n\t\tif (user) {\r\n\t\t\tauth.signOut();\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<Link to=\"/\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName=\"header_logo\"\r\n\t\t\t\t\tsrc=\"https://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n\t\t\t\t/>\r\n\t\t\t</Link>\r\n\r\n\t\t\t<div className=\"header_search\">\r\n\t\t\t\t<input className=\"header_searchInput\" type=\"text\" />\r\n\t\t\t\t<SearchIcon className=\"header_searchIcon\" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"header_nav\">\r\n\t\t\t\t<Link to={!user && \"/login\"}>\r\n\t\t\t\t\t<div onClick={handleAuthentication} className=\"header_option\">\r\n\t\t\t\t\t\t<span className=\"header_optionLine1\">\r\n\t\t\t\t\t\t\tHello,\r\n\t\t\t\t\t\t\t{user ? user.email : \" Guest\"}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"header_optionLine2\">\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{user ? \"Sign Out\" : \"Sign In\"}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link>\r\n\t\t\t\t\t<div className=\"header_option\">\r\n\t\t\t\t\t\t<span className=\"header_optionLine1\">Returns</span>\r\n\t\t\t\t\t\t<span className=\"header_optionLine2\">& Orders</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<div className=\"header_option\">\r\n\t\t\t\t\t<span className=\"header_optionLine1\">Your</span>\r\n\t\t\t\t\t<span className=\"header_optionLine2\">Prime </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link to=\"/Checkout\">\r\n\t\t\t\t\t<div className=\"header_optionBasket\">\r\n\t\t\t\t\t\t<ShoppingBasketIcon />\r\n\t\t\t\t\t\t<span className=\"header_optionLine2 header_basketCount\">\r\n\t\t\t\t\t\t\t{basket?.length}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Product.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Product({ id, title, image, price, rating }) {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  const addToBasket = () => {\r\n    //dispatch the item in data layer\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      item: {\r\n        id: id,\r\n        title: title,\r\n        image: image,\r\n        price: price,\r\n        rating: rating,\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product_info\">\r\n        <p>{title}</p>\r\n        <p className=\"product_price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <div className=\"product_rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_, i) => (\r\n              <p>❤</p>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <img src={image} alt=\"\" />\r\n      <button onClick={addToBasket}>Add to Cart </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport \"./Home.css\";\r\nimport Product from \"./Product\";\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home_container\">\r\n        <img\r\n          className=\"home_image\"\r\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <div className=\"home_row\">\r\n          <Product\r\n            id=\"232323\"\r\n            title=\"Godaan By Munsi Premchand\"\r\n            price={19}\r\n            image=\" https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7hxrNTA6q1kK4vkfuR2lAF1UnoI_CWevhsA&usqp=CAU\"\r\n            rating={5}\r\n          />\r\n\r\n          <Product\r\n            id=\"232324\"\r\n            title=\"Oculus Quest All-in-one VR Gaming Headset – 64GB\"\r\n            price={34}\r\n            image=\" https://images-na.ssl-images-amazon.com/images/I/31pEe2taIPL._AC_US327_FMwebp_QL65_.jpg\"\r\n            rating={4}\r\n          />\r\n        </div>\r\n        <div className=\"home_row\">\r\n          <Product\r\n            id=\"232325\"\r\n            title=\"Nintendo Switch with Neon Blue and Neon Red Joy‑Con - HAC-001(-01)\"\r\n            price={15}\r\n            image=\" https://images-na.ssl-images-amazon.com/images/I/41DQoLIfsRL._AC_US327_FMwebp_QL65_.jpg\"\r\n            rating={3}\r\n          />\r\n\r\n          <Product\r\n            id=\"232326\"\r\n            title=\"Xbox Game\"\r\n            price={29}\r\n            image=\" https://images-na.ssl-images-amazon.com/images/G/01/amazonglobal/images/email/asins/DURM-2B5ECC8E3DA42415._V531815325_.jpg\"\r\n            rating={5}\r\n          />\r\n\r\n          <Product\r\n            id=\"232327\"\r\n            title=\"The LeanStartup2: How constant innovative creators\"\r\n            price={9}\r\n            image=\" https://images-na.ssl-images-amazon.com/images/I/51T-sMqSMiL._SX329_BO1,204,203,200_.jpg\"\r\n            rating={4}\r\n          />\r\n        </div>\r\n        <div className=\"home_row\">\r\n          <Product\r\n            id=\"232328\"\r\n            title=\"Play station game pad\"\r\n            price={18.8}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/G/01/amazonglobal/images/email/asins/DURM-2B638E86650FFF18._V531815327_.jpg\"\r\n            rating={4}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport \"./CheckoutProduct.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction CheckoutProduct({ id, image, title, price, rating, hideButton }) {\r\n\tconst [{ basket }, dispatch] = useStateValue();\r\n\r\n\tconst removeFromBasket = () => {\r\n\t\t//remove the item from basket\r\n\t\tdispatch({\r\n\t\t\ttype: \"REMOVE_FROM_BASKET\",\r\n\t\t\tid: id,\r\n\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"checkoutproduct\">\r\n\t\t\t<img className=\"checkoutproduct_image\" src={image} />\r\n\r\n\t\t\t<div className=\"checkoutproduct_info\">\r\n\t\t\t\t<p className=\"checkoutproduct_title\">{title}</p>\r\n\t\t\t\t<p className=\"checkoutproduct_price\">\r\n\t\t\t\t\t<small>$</small>\r\n\t\t\t\t\t<strong>{price}</strong>\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"checkoutproduct_rating\">\r\n\t\t\t\t\t{Array(rating)\r\n\t\t\t\t\t\t.fill()\r\n\t\t\t\t\t\t.map((_, i) => (\r\n\t\t\t\t\t\t\t<p>❤</p>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{!hideButton && (\r\n\t\t\t\t\t<button onClick={removeFromBasket}>Remove from Basket</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CheckoutProduct;\r\n","import { Switch } from \"react-router-dom\";\r\n\r\nexport const initialState = {\r\n\tbasket: [],\r\n\tuser: null,\r\n};\r\n\r\n//Selector\r\n\r\nexport const getBasketTotal = basket =>\r\n\tbasket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\nconst reducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"ADD_TO_BASKET\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbasket: [...state.basket, action.item],\r\n\t\t\t};\r\n\r\n\t\tcase \"EMPTY_BASKET\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbasket: [],\r\n\t\t\t};\r\n\t\t// case 'REMOVE_FROM_BASKET':\r\n\t\t//   return{\r\n\t\t//   //   ...state,\r\n\t\t//   // basket: state.basket.filter(item=>item.id !== action.id) //This code will remove all the item present with same id number. so to overcome with this problem we have to do like :-\r\n\r\n\t\t// };\r\n\r\n\t\tcase \"REMOVE_FROM_BASKET\":\r\n\t\t\tconst index = state.basket.findIndex(\r\n\t\t\t\tbasketItem => basketItem.id === action.id\r\n\t\t\t);\r\n\r\n\t\t\tlet newBasket = [...state.basket];\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tnewBasket.splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\r\n\t\t\t\t\t\"cant remove product (id: ${action.id}) as its not in basket! \"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbasket: newBasket,\r\n\t\t\t};\r\n\r\n\t\tcase \"SET_USER\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: action.user,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\n\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getBasketTotal } from \"./reducer\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//\r\n\r\nfunction Subtotal() {\r\n\tconst history = useHistory();\r\n\tconst [{ basket }, dispatch] = useStateValue();\r\n\treturn (\r\n\t\t<div className=\"subtotal\">\r\n\t\t\t<CurrencyFormat\r\n\t\t\t\trenderText={value => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tSubtotal ({basket.length} items):\r\n\t\t\t\t\t\t\t<strong>{value}</strong>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<small className=\"subtotal_gift\">\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" />\r\n\t\t\t\t\t\t\tThis order contains a gift.\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\tdecimalScale={2}\r\n\t\t\t\tvalue={getBasketTotal(basket)}\r\n\t\t\t\tdisplayType={\"text\"}\r\n\t\t\t\tthousandSeparator={true}\r\n\t\t\t\tprefix={\"$\"}\r\n\t\t\t/>\r\n\r\n\t\t\t<button onClick={e => history.push(\"/payment\")}>\r\n\t\t\t\tProceed to checkout\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Subtotal;\r\n","import { ListItemAvatar } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport \"./Checkout.css\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Subtotal from \"./Subtotal\";\r\n\r\nfunction Checkout() {\r\n\tconst [{ basket, user }, dispatch] = useStateValue();\r\n\treturn (\r\n\t\t<div className=\"checkout\">\r\n\t\t\t<div className=\"checkout_left\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName=\"checkout_ad\"\r\n\t\t\t\t\tsrc=\"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_45M_v2_1x._CB432458380_.jpg\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>Hello, {user ? user.email : \"Guest\"}</h3>\r\n\t\t\t\t\t<h2 className=\"checkout_title\">Your shopping Basket.</h2>\r\n\t\t\t\t\t{/* CheckoutProduct */}\r\n\t\t\t\t\t{basket.map(item => (\r\n\t\t\t\t\t\t<CheckoutProduct\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\timage={item.image}\r\n\t\t\t\t\t\t\tprice={item.price}\r\n\t\t\t\t\t\t\trating={item.rating}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"checkout_right\">\r\n\t\t\t\t<Subtotal />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Checkout;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: \"http://localhost:5001/challenge-7a56c/us-central1/api\", //Api url (cloud function)\r\n});\r\n\r\nexport default instance;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { getBasketTotal } from \"./reducer\";\r\nimport \"./Payment.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport axios from \"./axios\";\r\nimport { db } from \"./firebase\";\r\n\r\n//\r\n\r\nfunction Payment() {\r\n\tconst [{ basket, user }, dispatch] = useStateValue();\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\tconst history = useHistory();\r\n\r\n\t//\r\n\tconst [succeeded, setSucceeded] = useState(false);\r\n\tconst [processing, setProcessing] = useState(\"\");\r\n\tconst [error, setError] = useState(null);\r\n\tconst [disabled, setDisabled] = useState(true);\r\n\tconst [clienSecreat, SetClienSecreat] = useState(true);\r\n\t//\r\n\tuseEffect(() => {\r\n\t\tconst getClientSecret = async () => {\r\n\t\t\tconst response = await axios({\r\n\t\t\t\tmethod: \"post\",\r\n\t\t\t\tURL: \"/payments/create?total=${getBasketTotal(basket)*100}\",\r\n\t\t\t});\r\n\r\n\t\t\tSetClienSecreat(response.data.clienSecreat);\r\n\t\t};\r\n\t\tgetClientSecret();\r\n\t}, [basket]);\r\n\t//\r\n\tconst handleSubmit = async event => {\r\n\t\t//stripe method\r\n\t\tevent.preventDefault();\r\n\t\tsetProcessing(true);\r\n\r\n\t\tconst payload = await stripe\r\n\t\t\t.confirmCardPayment(clienSecreat, {\r\n\t\t\t\tpayment_method: {\r\n\t\t\t\t\tcard: elements.getElement(CardElement),\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t.then(({ paymentIntent }) => {\r\n\t\t\t\tdb.collection(\"users\")\r\n\t\t\t\t\t.doc(user?.uid)\r\n\t\t\t\t\t.collection(\"orders\")\r\n\t\t\t\t\t.doc(paymentIntent.id)\r\n\t\t\t\t\t.set({\r\n\t\t\t\t\t\tbasket: basket,\r\n\t\t\t\t\t\tamount: paymentIntent.amount,\r\n\t\t\t\t\t\tcreated: paymentIntent.created,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t//\r\n\r\n\t\t\t\tsetSucceeded(true);\r\n\t\t\t\tsetError(null);\r\n\r\n\t\t\t\tsetProcessing(false);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"EMPTY_BASKET\",\r\n\t\t\t\t});\r\n\t\t\t\thistory.replace(\"/orders\");\r\n\t\t\t});\r\n\t\t//\r\n\t};\r\n\t//\r\n\r\n\tconst handleChange = event => {\r\n\t\t//listen for change in the card element.\r\n\t\t//and display erroe as thee customer type their card details\r\n\t\tsetDisabled(event.empty);\r\n\t\tsetError(event.error ? event.error.message : \"\");\r\n\t};\r\n\t//\r\n\r\n\treturn (\r\n\t\t<div className=\"payment\">\r\n\t\t\t<div className=\"payment_container\">\r\n\t\t\t\t<h1>\r\n\t\t\t\t\tCheckout(<Link to=\"/checkout\">{basket?.length}items</Link>)\r\n\t\t\t\t</h1>\r\n\t\t\t\t<div className=\"payment_section\">\r\n\t\t\t\t\t<div className=\"payment_title\">\r\n\t\t\t\t\t\t<h3>Delivery Addrress</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"payment_address\">\r\n\t\t\t\t\t\t{/* hi */}\r\n\t\t\t\t\t\t<p>{user?.email}</p>\r\n\t\t\t\t\t\t<p>street 3,near </p>\r\n\t\t\t\t\t\t<p>patna</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"payment_section\">\r\n\t\t\t\t\t{/* payment section -item review */}\r\n\t\t\t\t\t<div className=\"payment_title\">\r\n\t\t\t\t\t\t<h3>Review items and dilivery</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"payment_items\">\r\n\t\t\t\t\t\t{basket.map(item => (\r\n\t\t\t\t\t\t\t<CheckoutProduct\r\n\t\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\timage={item.image}\r\n\t\t\t\t\t\t\t\tprice={item.price}\r\n\t\t\t\t\t\t\t\trating={item.rating}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"payment_section\">\r\n\t\t\t\t\t<div className=\"payment_title\">\r\n\t\t\t\t\t\t<h3>payment method</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* payment section -payment method */}\r\n\r\n\t\t\t\t\t<div className=\"payment_details\">\r\n\t\t\t\t\t\t{/* stripe magic */}\r\n\t\t\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t<CardElement onChange={handleChange} />\r\n\r\n\t\t\t\t\t\t\t<div className=\"payment_pricecontainer\">\r\n\t\t\t\t\t\t\t\t<CurrencyFormat\r\n\t\t\t\t\t\t\t\t\trenderText={value => (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSubtotal ({basket.length} items):\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{value}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <small className=\"subtotal_gift\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\tThis order contains a gift.\r\n\t\t\t\t\t\t\t\t\t\t\t</small> */}\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\tdecimalScale={2}\r\n\t\t\t\t\t\t\t\t\tvalue={getBasketTotal(basket)}\r\n\t\t\t\t\t\t\t\t\tdisplayType={\"text\"}\r\n\t\t\t\t\t\t\t\t\tthousandSeparator={true}\r\n\t\t\t\t\t\t\t\t\tprefix={\"$\"}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button disabled={processing || disabled || succeeded}>\r\n\t\t\t\t\t\t\t\t\t<span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* Error handling */}\r\n\r\n\t\t\t\t\t\t\t{error && <div>{error}</div>}\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Payment;\r\n","import React, { useState } from \"react\";\r\nimport \"./Login.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const signIn = e => {\r\n    e.preventDefault();\r\n    //firebase stuff\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(auth => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch(error => alert(error.messasge));\r\n  };\r\n  const register = e => {\r\n    e.preventDefault();\r\n    //firebase stuff\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(auth => {\r\n        //sucessfully created new user account\r\n        if (auth) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n\r\n      .catch(error => alert(error.messasge));\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"login_logo\"\r\n          src=\"https://pngimg.com/uploads/amazon/amazon_PNG1.png\"\r\n        />\r\n      </Link>\r\n\r\n      <div className=\"login_container\">\r\n        <h1>Sign-in</h1>\r\n        <form>\r\n          <h5>E-mail</h5>\r\n          <input\r\n            type=\"text\"\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n          />\r\n          <h5>Password</h5>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={e => setPassword(e.target.value)}\r\n          />\r\n          <button type=\"submit\" onClick={signIn} className=\"login_signin\">\r\n            Sign In\r\n          </button>\r\n        </form>\r\n        <p>\r\n          By sigining in you agree to our conditions of use and sale .Please see\r\n          our privacy Notice ,our cookies Notice and our Intrest -based Ads\r\n          notice.\r\n        </p>\r\n        <button onClick={register} className=\"login_register\">\r\n          Create Your Account\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\n\r\nimport \"./Order.css\";\r\n\r\nfunction Order({ order }) {\r\n\treturn (\r\n\t\t<div className=\"order\">\r\n\t\t\t<h2>Order</h2>\r\n\t\t\t<p>{moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")}</p>\r\n\t\t\t<p className=\"order_id\">\r\n\t\t\t\t<small>{order.id}</small>\r\n\t\t\t</p>\r\n\t\t\t{order.data.basket?.map(item => (\r\n\t\t\t\t<CheckoutProduct\r\n\t\t\t\t\tid={item.id}\r\n\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\timage={item.image}\r\n\t\t\t\t\tprice={item.price}\r\n\t\t\t\t\trating={item.rating}\r\n\t\t\t\t\thideButton\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\r\n\t\t\t<CurrencyFormat\r\n\t\t\t\trenderText={value => (\r\n\t\t\t\t\t<h3 className=\"order_total\">Order Total : {value}</h3>\r\n\t\t\t\t)}\r\n\t\t\t\tdecimalScale={2}\r\n\t\t\t\tvalue={order.data.amount / 100}\r\n\t\t\t\tdisplayType={\"text\"}\r\n\t\t\t\tthousanSeparator={true}\r\n\t\t\t\tprefix={\"$\"}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Order;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { db } from \"./firebase\";\r\nimport Order from \"./Order\";\r\nimport \"./Orders.css\";\r\n\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Orders() {\r\n\tconst [orders, setOrders] = useState([]);\r\n\tconst [{ basket, user }, dispatch] = useStateValue();\r\n\t//\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user) {\r\n\t\t\tdb.collection(\"users\")\r\n\t\t\t\t.doc(user?.uid)\r\n\t\t\t\t.collection(\"orders\")\r\n\t\t\t\t.orderBy(\"created\", \"desc\")\r\n\t\t\t\t.onSnapshot(snapshot =>\r\n\t\t\t\t\tsetOrders(\r\n\t\t\t\t\t\tsnapshot.docs.map(doc => ({\r\n\t\t\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t\t\tdata: doc.data(),\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t} else {\r\n\t\t\tsetOrders([]);\r\n\t\t}\r\n\t}, [user]);\r\n\treturn (\r\n\t\t<div className=\"orders\">\r\n\t\t\t<h1>This is your orders</h1>\r\n\t\t\t<div className=\"order_order\">\r\n\t\t\t\t{orders?.map(order => (\r\n\t\t\t\t\t<Order order={order} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Orders;\r\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport Checkout from \"./Checkout\";\nimport Payment from \"./Payment\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport Orders from \"./Orders\";\n//\nconst promise = loadStripe(\n\t\"pk_test_51J8p6VSFxa845ieyWmOlyHbLD7hHtZjNLnbwTiyIIcYkPyGAJ72o3JrjfrOKOnq4a3E0HJpEAHOso4ZFbBqtip2J00Jf1NFFiw\"\n);\n//\nfunction App() {\n\tconst [{}, dispatch] = useStateValue();\n\tuseEffect(() => {\n\t\tauth.onAuthStateChanged(authUser => {\n\t\t\tconsole.log(\"USER IS >>>\", authUser);\n\n\t\t\tif (authUser) {\n\t\t\t\t// the user just logedin\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_USER\",\n\t\t\t\t\tuser: authUser,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// the user is loged out\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_USER\",\n\t\t\t\t\tuser: null,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}, []); //it will only run when app component loads\n\treturn (\n\t\t<Router>\n\t\t\t<div className=\"app\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/login\">\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/orders\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Orders />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/checkout\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Checkout />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/payment\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Elements stripe={promise}>\n\t\t\t\t\t\t\t<Payment />\n\t\t\t\t\t\t</Elements>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { StateProvider } from \"./StateProvider\";\nimport reducer, { initialState } from \"./reducer\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}